;;; init.el --- Emacs configuration file -*- lexical-binding: t; -*-

;; Author: Markus Jylh√§nkangas <markus@jylhis.com>
;; URL: https://github.com/Jylhis/jotain
;; Version: 2.0
;; Package-Requires: ((emacs "29.1"))

;;; Commentary:
;; Modern modular Emacs configuration for enhanced development experience.
;; Configuration is split into logical modules in the elisp/ directory.

;;; Code:

;; Add config directory to load path
(add-to-list 'load-path (expand-file-name "elisp" user-emacs-directory))

;; Store automatic customization options elsewhere
(setq custom-file (locate-user-emacs-file "custom.el"))
(when (file-exists-p custom-file) (load custom-file))






;; Additional GC optimizations from Doom Emacs patterns
;; Trigger GC when idle for 5 seconds
(run-with-idle-timer 5 t #'garbage-collect)

;; Prevent GC during minibuffer operations (completion!)
(add-hook 'minibuffer-setup-hook
          (lambda () (setq gc-cons-threshold most-positive-fixnum)))
(add-hook 'minibuffer-exit-hook
          (lambda () (setq gc-cons-threshold (* 16 1024 1024))))

(provide 'init)
;;; init.el ends here
